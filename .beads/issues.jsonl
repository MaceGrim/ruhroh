{"id":"ruhroh-05t","title":"Epic: Pydantic Models","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.395388389-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-0qe","title":"Create User Repository","description":"Implement backend/app/db/repositories/user.py:\n- get_by_id(id) -\u003e User | None\n- get_by_email(email) -\u003e User | None\n- create(user_data) -\u003e User\n- update(id, user_data) -\u003e User\n- delete(id) -\u003e bool\n- list_all(skip, limit, role_filter, is_active_filter) -\u003e list[User]\n- update_last_login(id)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:22.298653085-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:22.298653085-07:00","dependencies":[{"issue_id":"ruhroh-0qe","depends_on_id":"ruhroh-gzu","type":"blocks","created_at":"2026-01-20T17:15:14.110506989-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-126","title":"Create OpenAPI Documentation","description":"Configure FastAPI OpenAPI:\n- Title: ruhroh API\n- Version: 1.0.0\n- Swagger UI at /docs\n- ReDoc at /redoc\n- SecurityScheme: Bearer token (JWT)\n- Tag grouping: auth, documents, chat, search, admin, config, eval\n- Example request/response bodies","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:50.551230033-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:50.551230033-07:00"}
{"id":"ruhroh-1m4","title":"Implement Extraction Service","description":"Create backend/app/services/extraction.py:\n- LangExtract integration for entity extraction\n- extract_from_chunk(chunk_text, schema) -\u003e dict\n- Load default schema or user-specified schema\n- Extract entities: people, dates, key terms\n- Extract custom fields with regex patterns\n- Return extracted_metadata dict for chunk storage","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:37.107664704-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:37.107664704-07:00"}
{"id":"ruhroh-1wb","title":"Implement Auth Pages","description":"Create auth pages:\n- LoginPage: email/password form, submit to /auth/login\n- RegisterPage: email/password form with confirmation\n- ProtectedRoute wrapper component\n- Redirect to login if unauthenticated\n- Redirect to home after successful auth","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:52.724983656-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:52.724983656-07:00","dependencies":[{"issue_id":"ruhroh-1wb","depends_on_id":"ruhroh-4rj","type":"blocks","created_at":"2026-01-20T17:17:03.604007661-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-1wb","depends_on_id":"ruhroh-3j5","type":"blocks","created_at":"2026-01-20T17:17:04.517775835-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-2sy","title":"Write Database Repository Tests","description":"Test all repository operations:\n- User CRUD tests\n- Document CRUD tests with cascade delete\n- Chunk bulk insert and FTS tests\n- Thread and Message tests\n- Schema CRUD tests\n- Constraint violation tests\n- Pagination tests","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:11:02.788737678-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:02.788737678-07:00"}
{"id":"ruhroh-3d8","title":"Create README.md","description":"Write comprehensive README:\n- Project overview and features\n- Quick start: docker-compose up\n- Environment variables reference\n- API documentation link (/docs)\n- Development setup instructions\n- Architecture overview diagram","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:11:06.816494326-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:06.816494326-07:00"}
{"id":"ruhroh-3j5","title":"Setup Frontend State Management","description":"Implement state management:\n- Zustand store for auth state\n- Store: user info, access_token, refresh_token, role\n- Persist to localStorage\n- Auto-refresh token before expiry\n- isAuthenticated, isAdmin, isSuperuser getters","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:51.26413394-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:51.26413394-07:00","dependencies":[{"issue_id":"ruhroh-3j5","depends_on_id":"ruhroh-kwx","type":"blocks","created_at":"2026-01-20T17:17:01.405877376-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-3r3","title":"Create User Pydantic Models","description":"Implement backend/app/models/user.py:\n- Role enum (user, superuser, admin)\n- UserCreate (email, password)\n- UserUpdate (role?, is_active?)\n- UserResponse (id, email, role, created_at, last_login, is_active)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:27.192643223-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:27.192643223-07:00"}
{"id":"ruhroh-3ya","title":"Setup Alembic Migrations","description":"Initialize Alembic for database migrations:\n- alembic init backend/alembic\n- Configure alembic.ini with async support\n- Create initial migration script structure","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:19.441709364-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:19.441709364-07:00","dependencies":[{"issue_id":"ruhroh-3ya","depends_on_id":"ruhroh-88r","type":"blocks","created_at":"2026-01-20T17:14:34.388075948-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-4rj","title":"Implement Frontend API Client","description":"Create frontend/src/services/api.ts:\n- Axios instance with base URL from VITE_API_URL\n- Request interceptor: add Authorization header\n- Response interceptor: handle 401 (trigger refresh or logout)\n- Generic request methods: get, post, put, patch, delete\n- Type-safe API methods for each endpoint","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:51.979796648-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:51.979796648-07:00","dependencies":[{"issue_id":"ruhroh-4rj","depends_on_id":"ruhroh-kwx","type":"blocks","created_at":"2026-01-20T17:17:02.142944271-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-5ge","title":"Implement Search Routes","description":"Create backend/app/api/search.py:\n- POST /search: direct search endpoint (bypass chat)\n- Body: query (required), top_k (default 10), document_ids (optional filter), use_keyword (true), use_vector (true)\n- Response: results array of SearchResult\n- Only search user's documents with status='ready'","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:44.159006069-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:44.159006069-07:00","dependencies":[{"issue_id":"ruhroh-5ge","depends_on_id":"ruhroh-dw2","type":"blocks","created_at":"2026-01-20T17:16:45.044600757-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-5ge","depends_on_id":"ruhroh-gub","type":"blocks","created_at":"2026-01-20T17:16:45.735874055-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-62f","title":"Implement PDF Viewer with Highlighting","description":"STRETCH GOAL (deferred): PDF viewer with highlighting for citations.\n\nCurrent implementation uses text excerpts instead - clicking a citation shows the source text in a panel/modal with document name and page number.\n\nThis task is deferred. If implemented later, would add:\n- react-pdf or pdf.js integration\n- Load PDF from document endpoint\n- Page navigation controls\n- Highlight cited text sections using coordinates\n- Side panel or modal display","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-20T17:10:59.113735831-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:46:28.585180656-07:00","closed_at":"2026-01-20T17:46:28.585180656-07:00","close_reason":"Deferred to stretch goal - using text excerpts instead","labels":["stretch-goal"]}
{"id":"ruhroh-6rw","title":"Implement Eval Routes","description":"Create backend/app/api/eval.py:\n- POST /eval/run: superuser/admin, start evaluation, 202 with eval_id\n- GET /eval/{id}: get status and results when completed\n- Body: document_ids?, question_count?, chunking_strategies?, use_holdout?\n- Response: eval_id, status, progress, results (when complete)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:10:46.29204969-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:46.29204969-07:00","dependencies":[{"issue_id":"ruhroh-6rw","depends_on_id":"ruhroh-a2y","type":"blocks","created_at":"2026-01-20T17:16:59.936420786-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-6rw","depends_on_id":"ruhroh-gub","type":"blocks","created_at":"2026-01-20T17:17:00.665797481-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-6su","title":"Epic: Backend Middleware \u0026 Utilities","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.418098689-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-6t5","title":"Implement OCR Service","description":"Create OCR integration using Mistral Vision:\n- pdf_to_images(pdf_path) -\u003e list[bytes] (page images)\n- ocr_image(image_bytes) -\u003e str using pixtral-large-latest\n- process_pdf_with_ocr(pdf_path) -\u003e str (merged text)\n- Merge OCR text with native PDF text where applicable","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:36.405485998-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:36.405485998-07:00","dependencies":[{"issue_id":"ruhroh-6t5","depends_on_id":"ruhroh-zg4","type":"blocks","created_at":"2026-01-20T17:16:22.153881258-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-6za","title":"Pydantic Models","description":"Request/response models for API validation","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-20T17:10:10.289517902-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:10.289517902-07:00"}
{"id":"ruhroh-78c","title":"Implement Document List Component","description":"Create document list:\n- Table view with columns: name, type, status, created, actions\n- Status badges with colors (pending=yellow, processing=blue, ready=green, failed=red)\n- Pagination controls\n- Delete button with confirmation modal\n- Reprocess button for failed documents\n- Click to view document details","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:54.865991578-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:54.865991578-07:00","dependencies":[{"issue_id":"ruhroh-78c","depends_on_id":"ruhroh-4rj","type":"blocks","created_at":"2026-01-20T17:17:06.09941266-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-7ox","title":"Frontend Chat Interface","description":"Chat UI with SSE streaming, thread management, PDF viewer","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-20T17:10:14.487496128-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:14.487496128-07:00"}
{"id":"ruhroh-7py","title":"Create Thread Repository","description":"Implement backend/app/db/repositories/thread.py:\n- get_by_id(id, user_id) -\u003e Thread | None\n- create(user_id, name) -\u003e Thread\n- update(id, name) -\u003e Thread\n- delete(id) -\u003e bool\n- list_by_user(user_id, skip, limit) -\u003e list[Thread] (ORDER BY updated_at DESC)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:24.407408301-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:24.407408301-07:00","dependencies":[{"issue_id":"ruhroh-7py","depends_on_id":"ruhroh-gzu","type":"blocks","created_at":"2026-01-20T17:15:16.24381568-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-7zq","title":"Implement Admin Service","description":"Create backend/app/services/admin.py:\n- list_users(role_filter?, is_active_filter?) -\u003e list[User]\n- update_user(id, role?, is_active?) -\u003e User\n- get_stats() -\u003e Stats (total_users, active_today, total_documents, queries_today, documents_by_status)\n- list_all_documents(user_id?, status?) -\u003e list[Document]\n- delete_document(id) -\u003e bool (admin can delete any)\n- get_health() -\u003e HealthStatus (api, database, qdrant, supabase status)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:40.646331936-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:40.646331936-07:00","dependencies":[{"issue_id":"ruhroh-7zq","depends_on_id":"ruhroh-0qe","type":"blocks","created_at":"2026-01-20T17:16:29.298190462-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-7zq","depends_on_id":"ruhroh-ymh","type":"blocks","created_at":"2026-01-20T17:16:29.991899663-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-814","title":"Create Deployment Documentation","description":"Write deployment guide (docs/DEPLOYMENT.md):\n- Pre-flight checklist\n- Docker Compose instructions\n- Environment configuration guide\n- Supabase project setup\n- First admin user creation\n- Troubleshooting common issues","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:11:08.241424243-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:08.241424243-07:00"}
{"id":"ruhroh-869","title":"Epic: Frontend Document Management","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.433306689-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-88r","title":"Initialize Backend Project Structure","description":"Create FastAPI backend project structure:\n- backend/app/ directory with __init__.py, main.py, config.py, dependencies.py\n- backend/app/api/, services/, models/, db/, utils/ subdirectories\n- backend/requirements.txt with core dependencies (FastAPI, SQLAlchemy, Pydantic, etc.)\n- backend/Dockerfile\n- backend/.env.example","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-20T17:10:17.310003848-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:17.310003848-07:00"}
{"id":"ruhroh-8cy","title":"Database Layer","description":"PostgreSQL models, repositories, migrations, and data access layer","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-20T17:10:09.592525197-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:09.592525197-07:00"}
{"id":"ruhroh-8j3","title":"Implement Config Service","description":"Create backend/app/config.py with Pydantic BaseSettings:\n- Required: OPENAI_API_KEY, SUPABASE_URL, SUPABASE_ANON_KEY, DATABASE_URL, QDRANT_HOST, QDRANT_PORT\n- Optional LLM: ANTHROPIC_API_KEY, MISTRAL_API_KEY\n- Optional Qdrant: QDRANT_API_KEY, QDRANT_USE_TLS\n- Config: RUHROH_VECTOR_WEIGHT (0.6), RUHROH_KEYWORD_WEIGHT (0.4), RUHROH_RRF_K (60)\n- Config: RUHROH_ENABLE_FALLBACK (false), RUHROH_RATE_LIMIT_RPM (60), RUHROH_RATE_LIMIT_BURST (10)\n- Config: RUHROH_DEFAULT_MODEL (gpt-4), RUHROH_CHUNK_SIZE (512), RUHROH_CHUNK_OVERLAP (50)\n- Validator: VECTOR_WEIGHT + KEYWORD_WEIGHT = 1.0","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:31.769215558-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:31.769215558-07:00","dependencies":[{"issue_id":"ruhroh-8j3","depends_on_id":"ruhroh-88r","type":"blocks","created_at":"2026-01-20T17:14:35.224410553-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-8js","title":"Epic: Documentation \u0026 Deployment","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.46480769-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-937","title":"Implement Auth Routes","description":"Create backend/app/api/auth.py:\n- POST /auth/register: proxy to Supabase, create local user record\n- POST /auth/login: proxy to Supabase, return tokens\n- POST /auth/refresh: proxy to Supabase refresh\n- POST /auth/logout: 204 response\n- Handle Supabase errors and translate to API errors","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:42.037109049-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:42.037109049-07:00","dependencies":[{"issue_id":"ruhroh-937","depends_on_id":"ruhroh-gub","type":"blocks","created_at":"2026-01-20T17:16:41.529628465-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-992","title":"Write API Integration Tests","description":"Test API endpoints:\n- Auth flow (register, login, refresh, logout)\n- Document upload and processing\n- Chat streaming (test SSE events)\n- Admin operations (role check)\n- Error responses (401, 403, 404, 409, 422)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:11:04.5322259-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:04.5322259-07:00"}
{"id":"ruhroh-9do","title":"Epic: Project Infrastructure Setup","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.374454089-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-a2y","title":"Implement Eval Service","description":"Create backend/app/services/eval.py:\n- run_evaluation(document_ids?, question_count=50, strategies?, use_holdout=false) -\u003e eval_id\n- generate_questions(chunks, count) -\u003e list[Question] using LLM\n- Store questions with ground truth chunk IDs\n- run_retrieval_tests(questions, strategy) -\u003e list[TestResult]\n- Calculate metrics:\n  - Hit Rate: % queries where correct chunk in top-k\n  - MRR: mean(1/rank) for correct chunk\n  - Context Precision: relevant_retrieved / total_retrieved\n  - Answer Relevancy: LLM-judged score\n- Strategy comparison if multiple strategies\n- Holdout split: generate from 80%, test against 100%\n- Cost controls: max 50 questions, sample if corpus \u003e100 docs","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:10:41.334066442-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:41.334066442-07:00","dependencies":[{"issue_id":"ruhroh-a2y","depends_on_id":"ruhroh-dw2","type":"blocks","created_at":"2026-01-20T17:16:30.732785863-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-a2y","depends_on_id":"ruhroh-zg4","type":"blocks","created_at":"2026-01-20T17:16:31.469788264-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-a4s","title":"Create Schema Repository","description":"Implement backend/app/db/repositories/schema.py:\n- CRUD operations (get_by_id, create, update, delete)\n- list_all() -\u003e list[ExtractionSchema]\n- get_default_schema() -\u003e ExtractionSchema | None\n- set_default_schema(id) -\u003e ExtractionSchema (unset previous default)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:25.800284812-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:25.800284812-07:00","dependencies":[{"issue_id":"ruhroh-a4s","depends_on_id":"ruhroh-gzu","type":"blocks","created_at":"2026-01-20T17:15:17.664414773-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-a6m","title":"Implement Ingestion Service","description":"Create backend/app/services/ingestion.py:\n- process_document_pipeline(document_id) orchestrator\n- Stages: parse -\u003e OCR (if enabled) -\u003e chunk -\u003e extract -\u003e embed -\u003e index\n- Update document status at each stage for progress tracking\n- Idempotent processing with atomic status claim (WHERE status='pending')\n- Error handling: set status='failed', store error_message\n- Delete existing chunks before reprocessing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:34.047485778-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:34.047485778-07:00","dependencies":[{"issue_id":"ruhroh-a6m","depends_on_id":"ruhroh-zg4","type":"blocks","created_at":"2026-01-20T17:16:22.866322658-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-a6m","depends_on_id":"ruhroh-acb","type":"blocks","created_at":"2026-01-20T17:16:23.579082059-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-a6m","depends_on_id":"ruhroh-toa","type":"blocks","created_at":"2026-01-20T17:16:24.291596559-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-a6m","depends_on_id":"ruhroh-ymh","type":"blocks","created_at":"2026-01-20T17:16:24.99900626-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-acb","title":"Implement Qdrant Vector Store Service","description":"Create backend/app/services/vectorstore.py:\n- QdrantClient initialization with QDRANT_HOST, QDRANT_PORT, QDRANT_API_KEY, QDRANT_USE_TLS\n- ensure_collection() - create if not exists (1536 dims, cosine similarity)\n- upsert_vectors(vectors: list[VectorData]) - batch upsert with payloads (chunk_id, document_id, user_id)\n- search_vectors(query_vector, user_id, document_ids?, top_k) -\u003e list[ScoredPoint]\n- delete_by_document(document_id) -\u003e int count deleted\n- health_check() -\u003e bool","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:37.824317711-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:37.824317711-07:00","dependencies":[{"issue_id":"ruhroh-acb","depends_on_id":"ruhroh-8j3","type":"blocks","created_at":"2026-01-20T17:16:20.012513257-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-aoj","title":"Backend Middleware \u0026 Utilities","description":"Rate limiting, request tracking, logging, security, error handling","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-20T17:10:12.397380915-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:12.397380915-07:00"}
{"id":"ruhroh-apo","title":"Implement Chunking Utilities","description":"Create backend/app/utils/chunking.py:\n- fixed_size_chunking(text, chunk_size=512, overlap=50) -\u003e list[ChunkData]\n- semantic_chunking(text) -\u003e list[ChunkData] (split at sentence boundaries)\n- count_tokens(text) -\u003e int using tiktoken (cl100k_base)\n- ChunkData: content, start_offset, end_offset, token_count\n- Track page_numbers from PDF extraction","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:34.978884586-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:34.978884586-07:00"}
{"id":"ruhroh-atz","title":"Write Service Layer Tests","description":"Test service business logic:\n- Ingestion pipeline stages (mock dependencies)\n- Retrieval and RRF fusion\n- Chat agent logic (query decomposition, refinement)\n- Auth JWT validation\n- Config validation","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:11:03.562549488-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:03.562549488-07:00"}
{"id":"ruhroh-b1k","title":"Testing","description":"Backend and frontend test coverage","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-20T17:10:15.908108437-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:15.908108437-07:00"}
{"id":"ruhroh-bih","title":"Implement SSE Chat Handler","description":"Create SSE streaming handler:\n- EventSource connection to POST /chat/threads/{id}/messages\n- Handle 'status' events: show searching/thinking/generating indicator\n- Handle 'token' events: accumulate and display text\n- Handle 'citation' events: store for rendering\n- Handle 'done' event: finalize message\n- Handle 'error' event: show error message\n- Clean up EventSource on unmount","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:57.707165613-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:57.707165613-07:00","dependencies":[{"issue_id":"ruhroh-bih","depends_on_id":"ruhroh-4rj","type":"blocks","created_at":"2026-01-20T17:17:08.250065679-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-bij","title":"Create Chunk Pydantic Models","description":"Implement backend/app/models/chunk.py:\n- ChunkCreate (content, chunk_index, page_numbers, offsets, token_count)\n- ChunkResponse (id, document_id, content, chunk_index, page_numbers, extracted_metadata)\n- SearchResult (chunk_id, document_id, document_name, content, page_numbers, score, highlight_offsets)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:28.646573834-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:28.646573834-07:00"}
{"id":"ruhroh-bk4","title":"Setup Backend Testing Infrastructure","description":"Configure pytest:\n- pytest.ini with async plugin\n- conftest.py with fixtures\n- Test database setup/teardown (use test DB or SQLite)\n- Mock Supabase JWT validation\n- Mock OpenAI API calls\n- Mock Qdrant client","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:11:02.054080169-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:02.054080169-07:00"}
{"id":"ruhroh-bv8","title":"Implement Stats Dashboard","description":"Create stats overview:\n- Cards: total users, active users today, total documents, queries today\n- Documents by status pie/bar chart\n- Use a charting library (recharts, chart.js)\n- Admin/superuser access check","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:11:00.56226005-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:00.56226005-07:00"}
{"id":"ruhroh-bzc","title":"Implement Chat Service","description":"Create backend/app/services/chat.py:\n- process_message(thread_id, content, user) -\u003e AsyncGenerator[ChatEvent]\n- Agentic retrieval logic:\n  1. Analyze query type (factual, synthesis, comparison)\n  2. Simple factual -\u003e direct hybrid search\n  3. Complex -\u003e decompose into 2-3 sub-queries, execute in parallel\n  4. Check relevance scores \u003e= threshold (0.6)\n  5. If low relevance, refine query with LLM, retry once\n- Build context from retrieved chunks\n- Construct prompt with SYSTEM_PROMPT_TEMPLATE\n- Extract and format citations [1], [2]\n- Fallback behavior based on RUHROH_ENABLE_FALLBACK","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:39.231373223-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:39.231373223-07:00","dependencies":[{"issue_id":"ruhroh-bzc","depends_on_id":"ruhroh-dw2","type":"blocks","created_at":"2026-01-20T17:16:25.72144736-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-bzc","depends_on_id":"ruhroh-zg4","type":"blocks","created_at":"2026-01-20T17:16:26.43935186-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-bzc","depends_on_id":"ruhroh-7py","type":"blocks","created_at":"2026-01-20T17:16:27.139530661-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-bzc","depends_on_id":"ruhroh-txb","type":"blocks","created_at":"2026-01-20T17:16:27.856780361-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-c58","title":"Implement Request ID Tracking","description":"Create request tracking middleware:\n- Extract X-Request-ID from request headers or generate UUID\n- Bind request_id to structlog context\n- Include X-Request-ID in all response headers\n- Include request_id in error responses","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:47.716576303-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:47.716576303-07:00"}
{"id":"ruhroh-cjz","title":"Implement User Management Page","description":"Create admin user management:\n- Table: email, role, active status, last login, actions\n- Role dropdown to change roles (user/superuser/admin)\n- Active toggle button\n- Filter by role dropdown\n- Admin-only access check","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:10:59.82064824-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:59.82064824-07:00"}
{"id":"ruhroh-cnn","title":"Create Thread/Message Pydantic Models","description":"Implement backend/app/models/thread.py and message.py:\n- ThreadCreate (name?)\n- ThreadResponse (id, name, created_at, updated_at)\n- ThreadWithMessages (thread + messages)\n- MessageCreate (content, model?)\n- Citation model:\n  - index: int\n  - chunk_id: UUID\n  - document_id: UUID\n  - document_name: str\n  - page: int | None\n  - excerpt: str  # The specific relevant source text\n- MessageResponse (id, thread_id, role, content, citations, model_used, is_from_documents, created_at)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:29.548684041-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:46:48.418004223-07:00"}
{"id":"ruhroh-crl","title":"Epic: Frontend Chat Interface","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.44147079-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-d6t","title":"Epic: Database Layer","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.387021589-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-dd3","title":"Implement Error Handling","description":"Create global exception handlers:\n- Custom exception classes: UnauthorizedException, ForbiddenException, NotFoundException, ConflictException, ValidationException, RateLimitedException, ProcessingException, LLMException, ServiceUnavailableException\n- FastAPI exception_handler for each\n- Consistent ErrorResponse format with request_id\n- Log errors with full context","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:49.839242025-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:49.839242025-07:00"}
{"id":"ruhroh-doj","title":"Epic: Frontend Admin Panel","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.44924159-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-dv6","title":"Implement Thread List Component","description":"Create thread sidebar:\n- List of conversation threads\n- Display thread name and last updated\n- 'New Thread' button at top\n- Click to select thread\n- Delete thread with confirmation\n- Active thread highlight","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:56.293614094-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:56.293614094-07:00","dependencies":[{"issue_id":"ruhroh-dv6","depends_on_id":"ruhroh-4rj","type":"blocks","created_at":"2026-01-20T17:17:07.555081246-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-dw2","title":"Implement Retrieval Service","description":"Create backend/app/services/retrieval.py:\n- hybrid_search(query, user_id, document_ids?, top_k=10) -\u003e list[SearchResult]\n- Execute vector search via Qdrant\n- Execute keyword search via PostgreSQL FTS\n- RRF fusion: score = sum(1/(k + rank)) with configurable k\n- Apply configurable weights (vector_weight, keyword_weight)\n- Deduplicate results by chunk_id\n- Filter: only documents with status='ready'","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:38.526007917-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:38.526007917-07:00","dependencies":[{"issue_id":"ruhroh-dw2","depends_on_id":"ruhroh-acb","type":"blocks","created_at":"2026-01-20T17:16:20.737302857-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-dw2","depends_on_id":"ruhroh-toa","type":"blocks","created_at":"2026-01-20T17:16:21.447100257-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-dzk","title":"Implement Structured Logging","description":"Create backend/app/utils/logging.py:\n- structlog configuration with JSONRenderer\n- TimeStamper with ISO format\n- Log level from LOG_LEVEL env var (default INFO)\n- Log key events: document_uploaded, document_processed, search_executed, chat_message, error\n- Include request_id, user_id, duration_ms in logs","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:48.438646311-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:48.438646311-07:00"}
{"id":"ruhroh-e0m","title":"Implement Streaming Response Handler","description":"Create SSE streaming for chat responses:\n- Use sse-starlette EventSourceResponse\n- ChatEvent types: status, token, citation, error, done\n- Yield status events: {stage: 'searching' | 'thinking' | 'generating'}\n- Yield token events during LLM streaming: {content: string}\n- Yield citation events: {index, chunk_id, document_id, page}\n- Yield done event: {message_id, is_from_documents}\n- Yield error event on failure: {code, message}\n- Event ordering: status* -\u003e token* -\u003e citation* -\u003e (done | error)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:39.940008229-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:39.940008229-07:00","dependencies":[{"issue_id":"ruhroh-e0m","depends_on_id":"ruhroh-bzc","type":"blocks","created_at":"2026-01-20T17:16:28.583495762-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-e4p","title":"Epic: Testing","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.45662029-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-egf","title":"Create AuditLog Repository","description":"Implement backend/app/db/repositories/audit.py:\n- create_log(user_id, action, resource_type, resource_id, details, ip_address)\n- list_by_user(user_id, skip, limit) -\u003e list[AuditLog]\n- list_by_resource(resource_type, resource_id) -\u003e list[AuditLog]\n- list_recent(skip, limit) -\u003e list[AuditLog]","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:26.494671117-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:26.494671117-07:00","dependencies":[{"issue_id":"ruhroh-egf","depends_on_id":"ruhroh-gzu","type":"blocks","created_at":"2026-01-20T17:15:18.37104247-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-fam","title":"Create .env.example","description":"Create example environment file:\n- All required variables with placeholder values\n- All optional variables with defaults\n- Comments explaining each variable\n- Group by category (required, LLM, Qdrant, config)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:11:07.528837834-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:07.528837834-07:00"}
{"id":"ruhroh-fdl","title":"Implement Chat Message Components","description":"Create message display:\n- UserMessage component (right-aligned, user bubble)\n- AssistantMessage component (left-aligned, assistant bubble)\n- Citation links [1], [2] format, clickable\n- **Citation detail panel/modal showing:**\n  - Document name and page number\n  - Exact source text excerpt\n  - Close button\n- Markdown rendering with react-markdown\n- Code block syntax highlighting with highlight.js or prism\n- Loading state for streaming messages","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:56.999203404-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:46:38.656259971-07:00"}
{"id":"ruhroh-gub","title":"Implement Auth Service","description":"Create backend/app/services/auth.py:\n- Supabase JWT validation against SUPABASE_URL public key\n- get_current_user(token) -\u003e User dependency\n- require_role(allowed_roles: list[str]) decorator\n- Extract token from 'Authorization: Bearer \u003ctoken\u003e' header\n- Look up user role from local DB for authorization","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:33.247720871-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:33.247720871-07:00","dependencies":[{"issue_id":"ruhroh-gub","depends_on_id":"ruhroh-8j3","type":"blocks","created_at":"2026-01-20T17:14:36.658742863-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-gub","depends_on_id":"ruhroh-0qe","type":"blocks","created_at":"2026-01-20T17:15:20.548282557-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-gxr","title":"Documentation \u0026 Deployment","description":"README, deployment docs, startup scripts","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-20T17:10:16.609738342-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:16.609738342-07:00"}
{"id":"ruhroh-gzu","title":"Create SQLAlchemy Database Models","description":"Implement SQLAlchemy ORM models in backend/app/db/models.py:\n- User (id, email, role enum, created_at, last_login, is_active)\n- Document (id, user_id FK, filename, normalized_filename, file_type, file_path, file_size, page_count, status enum, chunking_strategy, ocr_enabled, error_message, timestamps, UNIQUE(user_id, normalized_filename))\n- Chunk (id, document_id FK CASCADE, content, chunk_index, page_numbers array, start_offset, end_offset, token_count, extracted_metadata JSONB, content_tsv tsvector GENERATED)\n- Thread (id, user_id FK CASCADE, name, timestamps)\n- Message (id, thread_id FK CASCADE, role, content, citations JSONB, model_used, is_from_documents, token_count)\n- ExtractionSchema (id, name, description, schema_definition JSONB, is_default, created_by FK)\n- AuditLog (id, user_id FK, action, resource_type, resource_id, details JSONB, ip_address INET)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:20.161838069-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:20.161838069-07:00","dependencies":[{"issue_id":"ruhroh-gzu","depends_on_id":"ruhroh-88r","type":"blocks","created_at":"2026-01-20T17:14:33.511490641-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-ht1","title":"Implement Security Utilities","description":"Create backend/app/utils/security.py:\n- sanitize_html(text) -\u003e str (strip HTML tags)\n- validate_file_upload(file) -\u003e None (raises on invalid)\n  - Check size \u003c= 500MB\n  - Check MIME type with python-magic (PDF, TXT only)\n- sanitize_prompt_input(text) -\u003e str (escape template chars)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:49.136207818-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:49.136207818-07:00"}
{"id":"ruhroh-i91","title":"Implement Document Routes","description":"Create backend/app/api/documents.py:\n- POST /documents/upload: multipart/form-data, 409 Conflict if exists and !force_replace, 202 with document_id\n- GET /documents: list with pagination (limit, offset, status filter)\n- GET /documents/{id}: full details with chunk count\n- GET /documents/{id}/status: status, progress stage, error_message\n- DELETE /documents/{id}: 204, cascade delete chunks/vectors\n- POST /documents/{id}/reprocess: 202, reset and requeue\n- All routes check user owns document","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:42.747249356-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:42.747249356-07:00","dependencies":[{"issue_id":"ruhroh-i91","depends_on_id":"ruhroh-a6m","type":"blocks","created_at":"2026-01-20T17:16:42.231792863-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-i91","depends_on_id":"ruhroh-gub","type":"blocks","created_at":"2026-01-20T17:16:42.932048261-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-jle","title":"Implement File Upload Component","description":"Create drag-and-drop upload:\n- Use react-dropzone or similar\n- Accept multiple files\n- File type validation (PDF, TXT only)\n- Size validation display (\u003c500MB)\n- Per-file options: OCR toggle, chunking strategy dropdown\n- Upload progress bar per file\n- Call POST /documents/upload for each file","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:54.15707777-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:54.15707777-07:00","dependencies":[{"issue_id":"ruhroh-jle","depends_on_id":"ruhroh-4rj","type":"blocks","created_at":"2026-01-20T17:17:05.358304323-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-jto","title":"Frontend Document Management","description":"Document upload and management UI with drag-drop and status tracking","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-20T17:10:13.780338023-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:13.780338023-07:00"}
{"id":"ruhroh-kcr","title":"Implement Document Status Polling","description":"Create status polling:\n- Poll GET /documents/{id}/status every 2s for processing documents\n- Display current processing stage\n- Stop polling when status is ready or failed\n- Auto-refresh document list on completion\n- Show error message for failed documents","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:55.583990585-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:55.583990585-07:00","dependencies":[{"issue_id":"ruhroh-kcr","depends_on_id":"ruhroh-jle","type":"blocks","created_at":"2026-01-20T17:17:06.834881799-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-kwx","title":"Initialize Frontend Project Structure","description":"Create React/TypeScript/Vite frontend project:\n- frontend/src/ with components/, pages/, hooks/, services/, stores/, types/\n- frontend/Dockerfile\n- frontend/package.json with dependencies (React 18+, TypeScript 5+)\n- Configure TypeScript, ESLint, Prettier","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-20T17:10:18.003463753-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:18.003463753-07:00"}
{"id":"ruhroh-kxk","title":"Implement Config Routes","description":"Create backend/app/api/config.py:\n- GET /config/schemas: superuser/admin, list all schemas\n- POST /config/schemas: superuser/admin, create schema\n- PUT /config/schemas/{id}: superuser/admin, update schema\n- DELETE /config/schemas/{id}: admin only\n- PUT /config/schemas/{id}/default: admin only, set as default","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:45.598950783-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:45.598950783-07:00","dependencies":[{"issue_id":"ruhroh-kxk","depends_on_id":"ruhroh-a4s","type":"blocks","created_at":"2026-01-20T17:16:47.85801985-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-kxk","depends_on_id":"ruhroh-gub","type":"blocks","created_at":"2026-01-20T17:16:48.558889447-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-ky1","title":"Epic: Core Backend Services","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.403005689-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-m6y","title":"Create Initial Migration","description":"Generate Alembic migration for all tables:\n- All 7 tables: users, documents, chunks, threads, messages, extraction_schemas, audit_logs\n- All indexes including GIN index on chunks.content_tsv for FTS\n- Foreign key constraints with ON DELETE CASCADE where appropriate","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:21.57586298-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:21.57586298-07:00","dependencies":[{"issue_id":"ruhroh-m6y","depends_on_id":"ruhroh-gzu","type":"blocks","created_at":"2026-01-20T17:15:19.101193667-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-m6y","depends_on_id":"ruhroh-3ya","type":"blocks","created_at":"2026-01-20T17:15:19.819968564-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-ml2","title":"Create Startup Scripts","description":"Create scripts/start.sh:\n- Wait for database availability\n- Run alembic upgrade head\n- Start uvicorn server\n- Make script executable","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:11:08.950959251-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:08.950959251-07:00"}
{"id":"ruhroh-nne","title":"Implement PDF Utilities","description":"Create backend/app/utils/pdf.py:\n- extract_text_from_pdf(file_path) -\u003e ExtractedPDF\n- ExtractedPDF: text, page_count, page_boundaries list\n- Map character offsets to page numbers\n- Support for PDF coordinate extraction for highlighting","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:35.706157892-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:35.706157892-07:00"}
{"id":"ruhroh-not","title":"Implement Admin Routes","description":"Create backend/app/api/admin.py:\n- GET /admin/users: admin only, list with filters\n- PATCH /admin/users/{id}: admin only, update role/is_active\n- GET /admin/stats: admin/superuser, aggregated stats\n- GET /admin/documents: admin only, list all documents\n- DELETE /admin/documents/{id}: admin only, delete any document\n- GET /admin/health: public health check endpoint","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:44.892738876-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:44.892738876-07:00","dependencies":[{"issue_id":"ruhroh-not","depends_on_id":"ruhroh-7zq","type":"blocks","created_at":"2026-01-20T17:16:46.442923953-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-not","depends_on_id":"ruhroh-gub","type":"blocks","created_at":"2026-01-20T17:16:47.149319152-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-odz","title":"Implement Chat Routes","description":"Create backend/app/api/chat.py:\n- GET /chat/threads: list user's threads with pagination\n- POST /chat/threads: create new thread, 201\n- GET /chat/threads/{id}: thread + messages\n- DELETE /chat/threads/{id}: 204\n- POST /chat/threads/{id}/messages: SSE streaming response\n- All routes check user owns thread","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:43.463693263-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:43.463693263-07:00","dependencies":[{"issue_id":"ruhroh-odz","depends_on_id":"ruhroh-e0m","type":"blocks","created_at":"2026-01-20T17:16:43.63525486-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-odz","depends_on_id":"ruhroh-gub","type":"blocks","created_at":"2026-01-20T17:16:44.328016658-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-oqa","title":"Epic: API Routes","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.410380189-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-q32","title":"Create Error Response Models","description":"Implement backend/app/models/errors.py:\n- ErrorCode enum (UNAUTHORIZED, FORBIDDEN, NOT_FOUND, CONFLICT, VALIDATION_ERROR, RATE_LIMITED, PROCESSING_FAILED, LLM_ERROR, SERVICE_UNAVAILABLE)\n- ErrorDetail (code, message, details?)\n- ErrorResponse (error: ErrorDetail, request_id)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:31.023971652-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:31.023971652-07:00"}
{"id":"ruhroh-qay","title":"Frontend Admin Panel","description":"Admin dashboard: user management, stats, system health","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-20T17:10:15.199413332-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:15.199413332-07:00"}
{"id":"ruhroh-ru9","title":"Implement Chat Input Component","description":"Create chat input:\n- Textarea with auto-resize\n- Submit button\n- Enter to send, Shift+Enter for newline\n- Disable during streaming\n- Status indicator (searching, thinking, generating)\n- Character count or limit indicator","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:58.407594422-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:58.407594422-07:00"}
{"id":"ruhroh-s86","title":"Project Infrastructure Setup","description":"Core project scaffolding and infrastructure for backend, frontend, and Docker deployment","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-20T17:10:08.894380993-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:08.894380993-07:00"}
{"id":"ruhroh-sxx","title":"Create Schema Pydantic Models","description":"Implement backend/app/models/schema.py:\n- EntityDefinition (name, description, examples)\n- CustomFieldDefinition (name, description, pattern?)\n- SchemaDefinition (entities, custom_fields)\n- ExtractionSchemaCreate (name, description, schema_definition)\n- ExtractionSchemaUpdate (name?, description?, schema_definition?)\n- ExtractionSchemaResponse (id, name, description, schema_definition, is_default, created_by, created_at)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:30.302494847-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:30.302494847-07:00"}
{"id":"ruhroh-toa","title":"Create Chunk Repository","description":"Implement backend/app/db/repositories/chunk.py:\n- create_bulk(chunks: list) -\u003e list[Chunk]\n- get_by_document(document_id) -\u003e list[Chunk]\n- delete_by_document(document_id) -\u003e int (count deleted)\n- full_text_search(query, user_id, document_ids=None, limit=20) -\u003e list[Chunk]\n- get_by_ids(ids: list[UUID]) -\u003e list[Chunk]","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:23.698482696-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:23.698482696-07:00","dependencies":[{"issue_id":"ruhroh-toa","depends_on_id":"ruhroh-gzu","type":"blocks","created_at":"2026-01-20T17:15:15.537805883-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-txb","title":"Create Message Repository","description":"Implement backend/app/db/repositories/message.py:\n- create(message_data) -\u003e Message\n- get_by_thread(thread_id, skip, limit) -\u003e list[Message]\n- get_conversation_history(thread_id, limit) -\u003e list[Message] (for context window)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:25.103163507-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:25.103163507-07:00","dependencies":[{"issue_id":"ruhroh-txb","depends_on_id":"ruhroh-gzu","type":"blocks","created_at":"2026-01-20T17:15:16.957552677-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-wnv","title":"Create Docker Compose Configuration","description":"Create docker-compose.yml with services:\n- backend (FastAPI on port 8000)\n- frontend (React on port 3000)\n- db (PostgreSQL 15 on port 5432)\n- qdrant (Qdrant 1.7+ on port 6333)\nConfigure volumes, ports, environment variables, service dependencies","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-20T17:10:18.713281358-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:18.713281358-07:00","dependencies":[{"issue_id":"ruhroh-wnv","depends_on_id":"ruhroh-88r","type":"blocks","created_at":"2026-01-20T17:13:48.025223134-07:00","created_by":"mgrim"},{"issue_id":"ruhroh-wnv","depends_on_id":"ruhroh-kwx","type":"blocks","created_at":"2026-01-20T17:13:54.886624859-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-wri","title":"Implement Rate Limiting","description":"Create rate limiting middleware:\n- Token bucket or sliding window algorithm\n- Configurable: RUHROH_RATE_LIMIT_RPM (60), RUHROH_RATE_LIMIT_BURST (10)\n- Key by user_id (authenticated) or IP (unauthenticated)\n- Add headers: X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset\n- Return 429 with Retry-After header when exceeded","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:47.005667696-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:47.005667696-07:00"}
{"id":"ruhroh-x0j","title":"Create Document Pydantic Models","description":"Implement backend/app/models/document.py:\n- DocumentStatus enum (pending, processing, ready, failed)\n- ChunkingStrategy enum (fixed, semantic)\n- DocumentUpload (chunking_strategy=fixed, ocr_enabled=false, force_replace=false)\n- DocumentResponse (all fields)\n- DocumentListResponse (documents, total)\n- DocumentStatusResponse (status, progress, error_message?)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:27.884309528-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:27.884309528-07:00"}
{"id":"ruhroh-xbe","title":"Write Frontend Component Tests","description":"Test key components:\n- Upload component: drag-drop, validation\n- Chat interface: message display, input\n- Auth forms: validation, submission\n- Protected route: redirect logic","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:11:06.082484118-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:06.082484118-07:00"}
{"id":"ruhroh-xmk","title":"Core Backend Services","description":"Business logic layer: LLM, Auth, Ingestion, Retrieval, Chat, Admin, Eval services","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-20T17:10:10.990052906-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:10.990052906-07:00"}
{"id":"ruhroh-xo7","title":"Frontend Core","description":"React frontend foundation: state management, API client, auth, layout","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-20T17:10:13.086013519-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:13.086013519-07:00"}
{"id":"ruhroh-xxm","title":"Epic: Frontend Core","description":"- type: epic","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-20T17:07:05.425316989-07:00","updated_at":"2026-01-20T17:07:35.178113208-07:00","deleted_at":"2026-01-20T17:07:35.178113208-07:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ruhroh-yl8","title":"Implement Layout Components","description":"Create layout components:\n- AppLayout: main layout wrapper\n- Sidebar: navigation links, user menu, role-based items\n- Header: title, user dropdown\n- MainContent: scrollable content area\n- Responsive design for tablet/desktop","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:53.452848363-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:53.452848363-07:00","dependencies":[{"issue_id":"ruhroh-yl8","depends_on_id":"ruhroh-kwx","type":"blocks","created_at":"2026-01-20T17:17:02.865042066-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-ylm","title":"Implement System Health Display","description":"Create health status component:\n- Poll GET /admin/health periodically\n- Status indicators for: API, Database, Qdrant, Supabase\n- Green/red icons\n- Last checked timestamp\n- Auto-refresh every 30s","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:11:01.285830259-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:01.285830259-07:00"}
{"id":"ruhroh-ymh","title":"Create Document Repository","description":"Implement backend/app/db/repositories/document.py:\n- get_by_id(id) -\u003e Document | None\n- create(doc_data) -\u003e Document\n- update(id, doc_data) -\u003e Document\n- delete(id) -\u003e bool (also deletes chunks)\n- list_by_user(user_id, skip, limit, status_filter) -\u003e list[Document]\n- get_by_user_and_filename(user_id, normalized_filename) -\u003e Document | None\n- update_status(id, status, error_message=None)\n- claim_for_processing(id) -\u003e bool (atomic WHERE status='pending')","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-20T17:10:23.004567191-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:23.004567191-07:00","dependencies":[{"issue_id":"ruhroh-ymh","depends_on_id":"ruhroh-gzu","type":"blocks","created_at":"2026-01-20T17:15:14.812588986-07:00","created_by":"mgrim"}]}
{"id":"ruhroh-yxa","title":"Create Database Connection Pool","description":"Implement database connection management in backend/app/db/database.py:\n- Async SQLAlchemy engine with QueuePool (pool_size=10, max_overflow=20, pool_timeout=30)\n- AsyncSession factory with sessionmaker\n- get_db dependency for FastAPI injection\n- Database health check function","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:20.877591775-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:20.877591775-07:00"}
{"id":"ruhroh-zbz","title":"Setup Frontend Testing","description":"Configure Vitest/Jest:\n- vitest.config.ts\n- Test utilities setup\n- Mock API responses\n- React Testing Library setup","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-20T17:11:05.362803509-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:11:05.362803509-07:00"}
{"id":"ruhroh-zc7","title":"API Routes","description":"FastAPI route handlers for auth, documents, chat, search, admin, config, eval","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-20T17:10:11.68464961-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:11.68464961-07:00"}
{"id":"ruhroh-zg4","title":"Implement LLM Service","description":"Create backend/app/services/llm.py:\n- Abstract LLMProvider protocol with generate_completion and generate_completion_stream\n- OpenAIProvider: GPT-4 implementation\n- AnthropicProvider: Claude 3 implementation\n- generate_embeddings(texts: list[str]) -\u003e list[list[float]] using text-embedding-3-small (1536 dims)\n- Retry logic with tenacity (stop_after_attempt=3, wait_exponential multiplier=1, min=2, max=30)\n- Provider factory based on config","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-20T17:10:32.506131465-07:00","created_by":"mgrim","updated_at":"2026-01-20T17:10:32.506131465-07:00","dependencies":[{"issue_id":"ruhroh-zg4","depends_on_id":"ruhroh-8j3","type":"blocks","created_at":"2026-01-20T17:14:35.941600258-07:00","created_by":"mgrim"}]}
